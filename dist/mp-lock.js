jQuery(function(s){const i=e=>{const n=document.querySelector(`${e} button[type='submit']`);n.disabled=!0},c=e=>{if(document.querySelector(e+" .input-group").classList.contains("error"))return;const r=document.querySelector(e+' button[type="submit"]');r.disabled=!1},d=e=>{const n=document.querySelector(`${e} .login-error`);n.style.display="none"},a=(e,n)=>{const r=e.closest(".input-group");r.addClass("error"),r.find(".error-message").html(n)},u=(e,n)=>{if(n){s(`${e} .mp-loading`).show(),i(e);return}s(`${e} .mp-loading`).hide(),c(e)},t="#mp-login-form",l=s(t).find('input[name="log"]'),o=s(t).find('input[name="pwd"]');s(t).submit(function(e){e.preventDefault();const n={action:"login",log:l.val(),pwd:o.val(),rememberme:s(t).find("#rememberme").is(":checked"),redirect_to:s(t).find('input[name="redirect_to"]').val(),testcookie:s(t).find('input[name="testcookie"]').val()};d(t),u(t,!0),s.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:n,success:function(r){if(r.data.code==="incorrect_password"&&(r.data.message=`<strong>Error:</strong> The password you entered for the email address <strong>${l.val()}</strong> is incorrect. <a href="/login?action=forgot_pass">Lost your password?</a>`),r.success){window.location.href=r.data.redirect_to;return}s(t).find(".login-error").html(`${r.data.message}`).show(),u(t,!1)},error:function(r){u(t,!1)}})}),l.on("blur",function(){const e=s(this).val();if(!e){a(s(this),"Email is required"),i(t);return}if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)){a(s(this),"Email address is invalid."),i(t);return}d(t),s(this).closest(".input-group").removeClass("error"),s(this).closest(".input-group").find(".error-message").html(""),c(t)}),o.on("blur",function(){const e=s(this).val();if(!e){a(s(this),"Password is required"),i(t);return}if(!e.match(/^(?=.*\d)(?=.*[a-z]).{8,}$/)){a(s(this),"Password: min 8 chars, 1 letter, 1 number."),i(t);return}d(t),s(this).closest(".input-group").removeClass("error"),s(this).closest(".input-group").find(".error-message").html(""),c(t)})});jQuery(function(s){const i=o=>{const e=document.querySelector(`${o} button[type='submit']`);e.disabled=!0},c=o=>{if(document.querySelector(o+" .input-group").classList.contains("error"))return;const n=document.querySelector(o+' button[type="submit"]');n.disabled=!1},d=o=>{const e=document.querySelector(`${o} .forgot-error`);e.style.display="none"},a=(o,e)=>{const n=o.closest(".input-group");n.addClass("error"),n.find(".error-message").html(e)},u=(o,e)=>{if(e){s(`${o} .mp-loading`).show(),i(o);return}s(`${o} .mp-loading`).hide(),c(o)},t="#forget-password-form",l=s(t).find('input[name="user-login"]');s(t).submit(function(o){o.preventDefault();const e={action:"lostpassword",user_login:l.val()};d(t),u(t,!0),s.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:e,success:function(n){if(!n.success){s(".forgot-error").html(n.data.message).show(),u(t,!1);return}const r=`<strong>Password reset link sent</strong>
                <p><small>Please click on the confirmation link that was just sent to your email address.</small></p>`;s(".forgot-success").html(r).show(),u(t,!1)}})}),l.on("blur",function(){const o=s(this).val();if(!o){a(s(this),"Username or Email field is required"),i(t);return}if(o.includes("@")&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(o)){a(s(this),"Email address is invalid."),i(t);return}if(!/^[a-zA-Z0-9@.]+$/.test(o)){a(s(this),"Username must be alphanumeric characters."),i(t);return}d(t),s(this).closest(".input-group").removeClass("error"),s(this).closest(".input-group").find(".error-message").html(""),c(t)})});(function(s){s(document).ready(function(){const i=e=>{const n=document.querySelector(`${e} button[type='submit']`);n.disabled=!0},c=e=>{if(document.querySelector(e+" .input-group").classList.contains("error"))return;const r=document.querySelector(e+' button[type="submit"]');r.disabled=!1},d=e=>{const n=document.querySelector(`${e} .reset-error`);n.style.display="none"},a=(e,n)=>{const r=e.closest(".input-group");r.addClass("error"),r.find(".error-message").html(n)},u=(e,n)=>{if(n){s(`${e} .mp-loading`).show(),i(e);return}s(`${e} .mp-loading`).hide(),c(e)},t="#reset-password-form",l=s(t).find('input[name="pwd"]'),o=s(t).find('input[name="confirm_pwd"]');s(t).on("submit",function(e){e.preventDefault();const n=s(this),r=n.find('input[name="key"]').val(),m=n.find('input[name="login"]').val();u(t,!0),s.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"resetpassword",key:r,login:m,password:l.val()},beforeSend:function(){},success:function(p){if(!p.success){s(".reset-error").html(p.data.message).show(),u(t,!1);return}const f=`<strong>Your password is reset.</strong>
            <p><small><a href="/login">Click here</a> login with your new password.</small></p>`;s(".reset-success").html(f).show(),u(t,!1)},error:function(){console.log("AJAX request failed")},complete:function(){}})}),l.on("blur",function(){const e=s(this).val();if(!e){a(s(this),"Password is required"),i(t);return}if(!e.match(/^(?=.*\d)(?=.*[a-z]).{8,}$/)){a(s(this),"Password: min 8 chars, 1 letter, 1 number."),i(t);return}s(this).closest(".input-group").removeClass("error"),s(this).closest(".input-group").find(".error-message").html(""),d(t),c(t)}),o.on("blur",function(){if(!s(this).val()){a(s(this),"Confirm password is required"),i(t);return}if(l.val()!==o.val()){a(s(this),"Password does not match"),a(o,"Password does not match"),i(t);return}s(o).closest(".input-group").removeClass("error"),s(o).closest(".input-group").find(".error-message").html(""),d(t),c(t)})})})(jQuery);jQuery(function(s){const i=r=>{const m=document.querySelector(`${r} button[type='submit']`);m.disabled=!0},c=r=>{if(document.querySelector(r+" .input-group").classList.contains("error"))return;const p=document.querySelector(r+' button[type="submit"]');p.disabled=!1},d=r=>{const m=document.querySelector(`${r} .signup-error`);m.style.display="none"},a=(r,m)=>{const p=r.closest(".input-group");p.addClass("error"),p.find(".error-message").html(m)},u=(r,m)=>{if(m){s(`${r} .mp-loading`).show(),i(r);return}s(`${r} .mp-loading`).hide(),c(r)},t="#mp-signup-form",l=s(t).find('input[name="log"]'),o=s(t).find('input[name="pwd"]'),e=s(t).find('input[name="confirm_pwd"]'),n=s(t).find('input[name="nonce"]');s(t).submit(function(r){if(r.preventDefault(),!l.val()||!o.val()||!e.val()){s(t).find(".signup-error").html("Please fill all fields").show();return}const m={action:"signup",log:l.val(),pwd:o.val(),nonce:n.val()};d(t),u(t,!0),s.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:m,success:function(p){if(p.success){s(t).find(".signup-success").html(`${p.data.message}`).show(),l.val(""),o.val(""),e.val(""),u(t,!1);return}s(t).find(".signup-error").html(`${p.data.message}`).show(),l.val(""),o.val(""),e.val(""),u(t,!1)},error:function(p){u(t,!1)}})}),l.on("blur",function(){const r=s(this).val();if(!r){a(s(this),"Email is required"),i(t);return}if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(r)){a(s(this),"Email address is invalid."),i(t);return}d(t),s(this).closest(".input-group").removeClass("error"),s(this).closest(".input-group").find(".error-message").html(""),c(t)}),o.on("blur",function(){const r=s(this).val();if(!r){a(s(this),"Password is required"),i(t);return}if(!r.match(/^(?=.*\d)(?=.*[a-z]).{8,}$/)){a(s(this),"Password: min 8 chars, 1 letter, 1 number."),i(t);return}s(this).closest(".input-group").removeClass("error"),s(this).closest(".input-group").find(".error-message").html(""),d(t),c(t)}),e.on("blur",function(){if(!s(this).val()){a(s(this),"Confirm password is required"),i(t);return}if(o.val()!==e.val()){a(s(this),"Password does not match"),a(e,"Password does not match"),i(t);return}s(e).closest(".input-group").removeClass("error"),s(e).closest(".input-group").find(".error-message").html(""),d(t),c(t)})});
